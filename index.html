<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="title" content="Happy Birthday | darkshadeoflove">
    <title>Happy Birthday | darkshadeoflove</title>
    <link rel="stylesheet" href="style.css">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.1/css/all.min.css" integrity="sha512-DTOQO9RWCH3ppGqcWaEA1BIZOC6xxalwEsw9c2QQeAIftl+Vegovlnee1c9QX4TctnWMn13TZye+giMm8e2LwA==" crossorigin="anonymous" referrerpolicy="no-referrer" />
    <script src="https://code.jquery.com/jquery-3.7.1.min.js"></script>
    <style>
        /* Minimalist timer styles */
        #surprise-timer-box {
            display: flex;
            flex-direction: column;
            align-items: center;
            justify-content: center;
            position: fixed;
            z-index: 99;
            top: 0; left: 0; width: 100vw; height: 100vh;
            background: rgba(10,10,10,0.93);
        }
        #surprise-timer-msg {
            font-size: 2.1em;
            color: #fff7d2;
            margin-bottom: 24px;
            letter-spacing: 0.04em;
        }
        #surprise-timer {
            font-size: 3em;
            font-weight: 500;
            color: #d5a657;
            letter-spacing: 0.10em;
        }
        #cake-box {
            display: flex;
            flex-direction: column;
            align-items: center;
            margin-top: 45px;
        }
        .cake-img {
            width: 160px;
            transition: all 1.1s cubic-bezier(.43,.53,.45,.74);
        }
        .cake-cut {
            transform: scaleY(0.6) rotate(-8deg);
            opacity: 0.5;
            filter: blur(1px);
        }
        #cut-cake-btn {
            font-size: 1em;
            padding: 0.7em 1.15em;
            border-radius: 30px;
            background: #ffbbaa;
            border: none;
            box-shadow: 0 2px 20px #d18b8b29;
            cursor: pointer;
            margin-top: 20px;
            font-weight: bold;
        }
        #cut-cake-btn:active {
            background: #ffcdd2;
        }
        @media(max-width: 510px) {
            #surprise-timer-box { font-size: 80%; }
            .cake-img { width: 85vw;}
        }
    </style>
</head>
<body>
    <!-- Surprise Timer Overlay -->
    <div id="surprise-timer-box">
        <div id="surprise-timer-msg">A surprise is coming</div>
        <div id="surprise-timer">03</div>
    </div>
    <!-- Cake Animation Area (hidden by default, shown after timer)-->
    <div id="cake-box" style="display:none;">
        <img src="https://i.imgur.com/4XIvW9N.png" alt="Birthday Cake" id="cake-img" class="cake-img" />
        <button id="cut-cake-btn">Cut the Cake ðŸŽ‚</button>
    </div>
    <!-- Your Original Content Starts Here -->
    <div id="wrapper">
        <!-- ... rest of your content unchanged ... -->
        <!-- Keep everything from your uploaded code as-is,
        starting from <div class="flag__birthday"> downwards -->
        <div class="flag__birthday"> <!-- etc... --></div>
        <!-- ... entire provided HTML content ... -->
    </div>
    <div id="copy">
        <p class="text-center text-white text-sm">darkshadeoflove<a href="https://www.instagram.com/@darkshadeoflove"></a></p>
    </div>
    <!-- Auto-play song audio element, hidden -->
    <audio id="autoplay-song" src="https://www.youtube.com/watch?v=kcGojPJzh1k" type="audio/mp3"></audio>
</body>
<script>
    // --- Surprise minimalist timer then show cake, then autoplay song ---
    let timerValue = 3; // Seconds
    let timerEl = document.getElementById('surprise-timer');
    let timerBoxEl = document.getElementById('surprise-timer-box');
    let cakeBoxEl = document.getElementById('cake-box');
    let cakeImg = document.getElementById('cake-img');
    let cutCakeBtn = document.getElementById('cut-cake-btn');

    // TIMER COUNTDOWN
    function runTimer() {
        timerEl.textContent = ("0"+timerValue).slice(-2);
        let countdown = setInterval(function(){
            timerValue--;
            timerEl.textContent = ("0"+timerValue).slice(-2);
            if(timerValue < 1) {
                clearInterval(countdown);
                timerBoxEl.style.display = "none";
                cakeBoxEl.style.display = "flex";
                // Autoplay Song in background
                playSong();
            }
        }, 1000);
    }

    // Autoplay background song (using YouTube audio workaround)
    function playSong(){
        // Using an iframe method for YouTube since <audio> direct src won't work
        let songFrame = document.createElement("iframe");
        songFrame.style.display = "none";
        songFrame.src = "https://www.youtube.com/embed/kcGojPJzh1k?autoplay=1&controls=0&start=0";
        songFrame.allow = "autoplay";
        document.body.appendChild(songFrame);
    }

    // Cake cutting button event
    cutCakeBtn.addEventListener("click", function(){
        if(!cakeImg.classList.contains('cake-cut')) {
            cakeImg.classList.add('cake-cut');
            cutCakeBtn.textContent = "Cake Cut! ðŸŽ‰";
        }
    });

    // Start timer immediately
    runTimer();
</script>
<!-- Your existing script remains below -->
<script>
    // Your original letter animation and interactivity code
    let datetxt = "2 Nov 1999";
    let datatxtletter = "Happy birthday to the most beautiful, special girl in my heart. May your birthday be as beautiful and special as you are. Wishing you all the happiness your heart can hold on your special day.ðŸ’•"
    let titleLetter = "To you";
    let charArrDate = datetxt.split('');
    let charArrDateLetter = datatxtletter.split('');
    let charArrTitle = titleLetter.split('');
    let currentIndex = 0;
    let currentIndexLetter = 0;
    let currentIndexTitle = 0;
    let date__of__birth = document.querySelector(".date__of__birth span");
    let text__letter = document.querySelector(".text__letter p");
    setTimeout(function(){
        timeDatetxt = setInterval(function(){
            if(currentIndex < charArrDate.length){
                date__of__birth.textContent += charArrDate[currentIndex];
                currentIndex++;
            }
            else{
                let i = document.createElement("i");
                i.className = "fa-solid fa-star"
                document.querySelector(".date__of__birth").prepend(i)
                document.querySelector(".date__of__birth").appendChild(i.cloneNode(true))
                clearInterval(timeDatetxt)
            }
        },100)
    },12000)

    var intervalContent;
    var intervalTitle;
    $("#btn__letter").on("click", function(){
        $(".box__letter").slideDown()
        setTimeout(function(){
            $(".letter__border").slideDown();
        },1000)
        setTimeout(function(){
            intervalTitle = setInterval(function(){
                if(currentIndexTitle < charArrTitle.length){
                    document.querySelector(".title__letter").textContent += charArrTitle[currentIndexTitle];
                    let i = document.createElement("i");
                    i.className = "fa-solid fa-heart"
                    document.querySelector(".title__letter").appendChild(i)
                    currentIndexTitle++;
                }
                else{
                    clearInterval(intervalTitle)
                }
            },100)
        },2000)
        setTimeout(function(){
            document.querySelector("#heart__letter").classList.add("animationOp");
            document.querySelector(".love__img").classList.add("animationOp");
            document.querySelector("#mewmew").classList.add("animationOp");
        },2800)
        setTimeout(function(){
            document.querySelectorAll(".heart").forEach((item)=>{
                item.classList.add("animation")
            })
        },3500)
        setTimeout(function(){
            intervalContent = setInterval(function(){
                if(currentIndexLetter < charArrDateLetter.length){
                    text__letter.textContent += charArrDateLetter[currentIndexLetter];
                    currentIndexLetter++;
                }
                else{
                    clearInterval(intervalContent)
                }
            },50)
        },6000)
    })
    $(".close").on("click", function(){
        clearInterval(intervalContent)
        document.querySelector(".title__letter").textContent = "";
        text__letter.textContent = "";
        currentIndexLetter = 0
        currentIndexTitle = 0
        document.querySelector("#heart__letter").classList.remove("animationOp");
        document.querySelector(".love__img").classList.remove("animationOp");
        document.querySelector("#mewmew").classList.remove("animationOp");
        document.querySelectorAll(".heart").forEach((item)=>{
                item.classList.remove("animation")
            })
        $(".box__letter").slideUp();
        $(".letter__border").slideUp();
    })
</script>
</html>
