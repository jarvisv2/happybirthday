<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="title" content="Happy Birthday | darkshadeoflove">
    <meta name="github" content="https://github.com/jarvisv2/happybirthday">
    <title>Happy Birthday | darkshadeoflove</title>
    <link rel="stylesheet" href="style.css">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.1/css/all.min.css" crossorigin="anonymous" referrerpolicy="no-referrer" />
    <script src="https://code.jquery.com/jquery-3.7.1.min.js" crossorigin="darkshadeoflove"></script>
    <style>
        /* --- Cake Cutting Animation Styles (Extra) --- */
        .cake-container {
            position: relative;
            width: 340px; height: 270px;
            margin: 40px auto 18px;
        }
        #cake-svg {
            transition: filter 0.4s;
            filter: drop-shadow(0 6px 16px #fda0d0aa);
        }
        .cut-animation .left { animation: leftCut 1.2s cubic-bezier(.6,.1,.6,1) forwards; }
        .cut-animation .right { animation: rightCut 1.2s cubic-bezier(.7,.1,.6,1) forwards; }
        @keyframes leftCut { to { transform: translateX(-110px) rotate(-18deg);} }
        @keyframes rightCut { to { transform: translateX(110px) rotate(18deg);} }
        #cake-svg g {transition: transform 1.2s;}
        .cake-btn {
            background: linear-gradient(90deg,#ffbae1 50%, #f4f0ff 100%);
            padding: 12px 28px;
            border-radius: 36px;
            border: none;
            font-size: 1.1rem;
            color: #de1979;
            font-weight: bold;
            box-shadow: 0 2px 15px #ffb3d7a7;
            cursor: pointer;
            transition: transform .13s;
            display:block; margin:0 auto 15px;
            font-family: inherit;
        }
        .cake-btn:active { transform: scale(.98); }
        .confetti {
            pointer-events: none;
            position: absolute; top:0; left:0; width:100%; height:100%;
            overflow:visible; z-index:99;
        }
        /* You can further merge and harmonize with your style.css as needed */
    </style>
</head>
<body>
    <!-- Cake Cutting Animation START -->
    <div class="cake-container" id="cake-area">
        <!-- SVG Cake, for animation -->
        <svg id="cake-svg" width="340" height="270" viewBox="0 0 340 270" fill="none">
            <g class="left">
                <ellipse cx="95" cy="215" rx="75" ry="23" fill="#b37857"/>
                <ellipse cx="95" cy="195" rx="82" ry="29" fill="#ffdae5"/>
                <rect x="17" y="89" width="156" height="109" rx="32" fill="#ffe5be"/>
                <ellipse cx="95" cy="93" rx="78" ry="30" fill="#fff6ea"/>
                <rect x="61" y="21" width="65" height="30" rx="14" fill="#fa98c6"/>
                <circle cx="93" cy="30" r="10" fill="#fada8e"/>
            </g>
            <g class="right">
                <ellipse cx="245" cy="215" rx="75" ry="23" fill="#b37857"/>
                <ellipse cx="245" cy="195" rx="82" ry="29" fill="#ffdae5"/>
                <rect x="167" y="89" width="156" height="109" rx="32" fill="#ffe5be"/>
                <ellipse cx="245" cy="93" rx="78" ry="30" fill="#fff6ea"/>
                <rect x="211" y="21" width="65" height="30" rx="14" fill="#fa98c6"/>
                <circle cx="243" cy="30" r="10" fill="#fada8e"/>
            </g>
            <!-- Candle flames -->
            <ellipse cx="93" cy="20" rx="5" ry="8" fill="#fbe66a" />
            <ellipse cx="243" cy="20" rx="5" ry="8" fill="#fbe66a" />
        </svg>
        <svg class="confetti" id="confetti-svg"></svg>
    </div>
    <button class="cake-btn" id="cut-btn">üç∞ Cut Cake!</button>
    <!-- Cake Cutting Animation END -->

    <!-- Main Happy Birthday Template Content START -->
    <div id="wrapper">
        <div class="flag__birthday">
            <img src="./images/1.png" alt="" width="350" class="flag__left">
            <img src="./images/1.png" alt="" width="350" class="flag__right">
        </div>
        <div class="content">
            <div class="left">
                <div class="title">
                    <h1 class="happy">
                        <span style="--t: 4s;">H</span>
                        <span style="--t: 4.2s;">a</span>
                        <span style="--t: 4.4s;">p</span>
                        <span style="--t: 4.6s;">p</span>
                        <span style="--t: 4.8s;">y</span>
                    </h1>
                    <h1 class="birthday">
                        <span style="--t: 5s;">B</span>
                        <span style="--t: 5.2s;">i</span>
                        <span style="--t: 5.4s;">r</span>
                        <span style="--t: 5.6s;">t</span>
                        <span style="--t: 5.8s;">h</span>
                        <span style="--t: 6s;">d</span>
                        <span style="--t: 6.2s;">a</span>
                        <span style="--t: 6.4s;">y</span>
                    </h1>
                    <div class="hat">
                        <img src="./images/hat.png" alt="" width="130">
                    </div>
                </div>
                <div class="date__of__birth">
                    <span></span>
                </div>
                <div class="btn">
                    <button id="btn__letter">
                        Click here Supriya ‚ù§Ô∏è
                        <i class="fa-regular fa-envelope"></i>
                    </button>
                </div>
            </div>
            <div class="right">
                <div class="box__account">
                    <div class="image">
                        <img src="./images/r5.png" alt="">
                    </div>
                    <div class="name">
                        <i class="fa-solid fa-heart"></i>
                        <span>Supriya ‚ù§Ô∏è</span>
                        <i class="fa-solid fa-heart"></i>
                    </div>
                    <div class="balloon_one">
                        <img width="100px" src="./images/balloon1.png" alt="">
                    </div>
                    <div class="balloon_two">
                        <img width="100px" src="./images/balloon2.png" alt="">
                    </div>
                </div>
                <div class="cricle">
                    <div class="text__cricle">
                        <span style="--i: 1;">h</span>
                        <span style="--i: 2;">a</span>
                        <span style="--i: 3;">p</span>
                        <span style="--i: 4;">p</span>
                        <span style="--i: 5;">y</span>
                        <span style="--i: 6;">-</span>
                        <span style="--i: 7;">b</span>
                        <span style="--i: 8;">i</span>
                        <span style="--i: 9;">r</span>
                        <span style="--i: 10;">t</span>
                        <span style="--i: 11;">h</span>
                        <span style="--i: 12;">d</span>
                        <span style="--i: 13;">a</span>
                        <span style="--i: 14;">y</span>
                        <span style="--i: 15;">-</span>
                    </div>
                    <i class="fa-solid fa-heart"></i>
                </div>
            </div>
        </div>
        <!-- decorations etc. unchanged -->
        <div class="decorate_star star1" style="--t: 15s;"></div>
        <div class="decorate_star star2" style="--t: 15.2s;"></div>
        <div class="decorate_star star3" style="--t: 15.4s;"></div>
        <div class="decorate_star star4" style="--t: 15.6s;"></div>
        <div class="decorate_star star5" style="--t: 15.8s;"></div>
        <div class="decorate_flower--one" style="--t: 15s;">
            <img width="20" src="./images/decorate_flower.png" alt="">
        </div>
        <div class="decorate_flower--two" style="--t: 15.3s;">
            <img width="20" src="./images/decorate_flower.png" alt="">
        </div>
        <div class="decorate_flower--three" style="--t: 15.6s;">
            <img width="20" src="./images/decorate_flower.png" alt="">
        </div>
        <div class="decorate_bottom">
            <img src="./images/decorate.png" alt="" width="100">
        </div>
        <div class="smiley__icon">
            <img src="./images/smiley_icon.png" alt="" width="100">
        </div>

        <div class="box__letter">
            <div class="letter__border">
                <div class="letter">
                    <div class="title__letter">
                    </div>
                    <div class="content__letter">
                        <div class="left">
                            <img id="heart__letter" src="https://media.giphy.com/media/YKUvclrGYmDKXwtphf/giphy.gif" alt="">
                            <img class="heart heart_1" style="--t: 0.2s" width="20" src="./images/heart.png" alt="">
                            <img class="heart heart_2" style="--t: 0.4s" width="20" src="./images/heart.png" alt="">
                            <img class="heart heart_3" style="--t: 0.6s" width="20" src="./images/heart.png" alt="">
                            <img class="heart heart_4" style="--t: 0.8s" width="20" src="./images/heart.png" alt="">
                        </div>
                        <div class="right">
                            <div class="love__img">
                                <img src="https://media.giphy.com/media/m85llaN7ZkFIHtURiC/giphy.gif" alt="" width="220">
                            </div>
                            <div class="text__letter">
                                 <p></p>
                            </div>
                            <img id="mewmew" width="80" src="./images/mewmew.gif" alt="">
                        </div>
                    </div>
                </div>
                <div class="close">
                    <i class="fa-solid fa-xmark"></i>
                </div>
            </div>
        </div>
    </div>
    <div id="copy">
        <p class="text-center text-white text-sm">darkshadeoflove<a
            href="https://www.instagram.com/@darkshadeoflove"></a></p>
    </div>
    <!-- Main Happy Birthday Template Content END -->

    <!-- Hidden YouTube player for background music -->
    <div style="position:fixed; left:-9999px; width:1px; height:1px;">
      <iframe
        id="ytplayer"
        width="1"
        height="1"
        src="https://www.youtube.com/embed/kcGojPJzh1k?autoplay=1&loop=1&playlist=kcGojPJzh1k&controls=0&showinfo=0&rel=0"
        frameborder="0"
        allow="autoplay"
        allowfullscreen
      ></iframe>
    </div>
    <div id="music-tip" style="text-align:center; color:#B40358; font-family:'Comic Sans MS',Arial,sans-serif; font-size:1.1em; display:none;">
      üîà Tap anywhere if you don't hear the song!
    </div>

    <script>
        // --- Cake Animation ---
        const btn = document.getElementById('cut-btn');
        const cakeArea = document.getElementById('cake-area');
        const svg = document.getElementById('cake-svg');
        const confettiSvg = document.getElementById('confetti-svg');
        btn.addEventListener('click', function(){
          svg.classList.add('cut-animation');
          cutCakeConfetti();
          btn.disabled = true;
          btn.textContent = "üéâ Cake is served!"
        });
        function cutCakeConfetti() {
          confettiSvg.innerHTML = '';
          for(let i=0;i<38;i++){
            let cx = 170 + (Math.random()-0.5)*80;
            let cy = 130+(Math.random()-0.9)*15;
            let r = 6+Math.random()*9;
            let fill = ["#ffa9e6","#fbe66a","#fbffa9","#b7a9fe","#ffbfa5","#dbe1fe","#fd52a5","#64d7fa"];
            let circle = document.createElementNS("http://www.w3.org/2000/svg", "circle");
            circle.setAttribute("cx", cx);
            circle.setAttribute("cy", cy);
            circle.setAttribute("r", r);
            circle.setAttribute("fill", fill[Math.floor(Math.random()*fill.length)]);
            confettiSvg.appendChild(circle);
            setTimeout(()=>{
              let anim = circle.animate([
                { transform: "translateY(0)" },
                { transform: `translateY(${70+Math.random()*120}px) scale(${0.8+Math.random()*0.5})` }
              ], {duration:900+Math.random()*700, fill:'forwards', easing:'cubic-bezier(.24,.77,.81,.99)'});
            },10+Math.random()*500)
          }
          setTimeout(()=>{confettiSvg.innerHTML='';},2100);
        }
        // --- END Cake Animation ---

        // --- Background YouTube music (autoplay) ---
        setTimeout(function() {
            let player = document.getElementById('ytplayer');
            if (player) {
              try {player.contentWindow.postMessage('{"event":"command","func":"playVideo","args":""}', '*');}catch(e){}
            }
            document.getElementById('music-tip').style.display = 'block';
            document.body.addEventListener('click', function() {
              let f = document.getElementById('ytplayer');
              if(f) {
                try {f.contentWindow.postMessage('{"event":"command","func":"playVideo","args":""}', '*');}catch(e){}
              }
              document.getElementById('music-tip').style.display = 'none';
            }, {once:true});
        }, 2000);

        // --- Birthday Letter and UI logic (from your template) ---
        let datetxt = "2 Nov 1999";
        let datatxtletter = "Happy birthday to the most beautiful, special girl in my heart. May your birthday be as beautiful and special as you are. Wishing you all the happiness your heart can hold on your special day.üíï"
        let titleLetter = "To you";
        let charArrDate = datetxt.split('');
        let charArrDateLetter = datatxtletter.split('');
        let charArrTitle = titleLetter.split('');
        let currentIndex = 0;
        let currentIndexLetter = 0;
        let currentIndexTitle = 0;
        let date__of__birth = document.querySelector(".date__of__birth span");
        let text__letter = document.querySelector(".text__letter p");
        setTimeout(function(){
            timeDatetxt = setInterval(function(){
                if(currentIndex < charArrDate.length){
                    date__of__birth.textContent += charArrDate[currentIndex];
                    currentIndex++;
                }
                else{
                    let i = document.createElement("i");
                    i.className = "fa-solid fa-star"
                    document.querySelector(".date__of__birth").prepend(i)
                    document.querySelector(".date__of__birth").appendChild(i.cloneNode(true))
                    clearInterval(timeDatetxt)
                }
            },100)
        },12000)
        var intervalContent;
        var intervalTitle;
        $("#btn__letter").on("click", function(){
            $(".box__letter").slideDown()
            setTimeout(function(){
                $(".letter__border").slideDown();
            },1000)
            setTimeout(function(){
                intervalTitle = setInterval(function(){
                    if(currentIndexTitle < charArrTitle.length){
                        document.querySelector(".title__letter").textContent += charArrTitle[currentIndexTitle];
                        let i = document.createElement("i");
                        i.className = "fa-solid fa-heart"
                        document.querySelector(".title__letter").appendChild(i)
                        currentIndexTitle++;
                    }
                    else{
                        clearInterval(intervalTitle)
                    }
                },100)
            },2000)
            setTimeout(function(){
                document.querySelector("#heart__letter").classList.add("animationOp");
                document.querySelector(".love__img").classList.add("animationOp");
                document.querySelector("#mewmew").classList.add("animationOp");
            },2800)
            setTimeout(function(){
                document.querySelectorAll(".heart").forEach((item)=>{
                    item.classList.add("animation")
                })
            },3500)
            setTimeout(function(){
                intervalContent = setInterval(function(){
                    if(currentIndexLetter < charArrDateLetter.length){
                        text__letter.textContent += charArrDateLetter[currentIndexLetter];
                        currentIndexLetter++;
                    }
                    else{
                        clearInterval(intervalContent)
                    }
                },50)
            },6000)
        })
        $(".close").on("click", function(){
            clearInterval(intervalContent)
            document.querySelector(".title__letter").textContent = "";
            text__letter.textContent = "";
            currentIndexLetter = 0
            currentIndexTitle = 0
            document.querySelector("#heart__letter").classList.remove("animationOp");
            document.querySelector(".love__img").classList.remove("animationOp");
            document.querySelector("#mewmew").classList.remove("animationOp");
            document.querySelectorAll(".heart").forEach((item)=>{
                    item.classList.remove("animation")
                })
            $(".box__letter").slideUp();
            $(".letter__border").slideUp();
        })
    </script>
</body>
</html>
