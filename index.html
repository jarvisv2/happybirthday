<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="title" content="Happy Birthday | darkshadeoflove">
    <meta name="github" content="https://github.com/jarvisv2">
    <title>Happy Birthday | darkshadeoflove</title>
    <link rel="stylesheet" href="style.css">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.1/css/all.min.css" integrity="sha512-DTOQO9RWCH3ppGqcWaEA1BIZOC6xxalwEsw9c2QQeAIftl+Vegovlnee1c9QX4TctnWMn13TZye+giMm8e2LwA==" crossorigin="anonymous" referrerpolicy="no-referrer" />
    <script src="https://code.jquery.com/jquery-3.7.1.min.js" integrity="sha256-/JqT3SQfawRcv/BIHPThkBvs0OEvtFFmqPF/lYI/Cxo=" crossorigin="anonymous"></script>

    <!-- Cake Cutting Intro CSS -->
    <style>
      /* Overlay container */
      #cake-intro{
        position: fixed;
        inset: 0;
        background: radial-gradient(120% 80% at 50% 30%, #fff7ed 0%, #ffe4e6 45%, #f3e8ff 100%);
        display: grid;
        place-items: center;
        z-index: 2147483647;
        overflow: hidden;
      }

      /* Fade-out at the end */
      #cake-intro.ci-fade-out{ animation: ciFade 700ms ease forwards; }
      @keyframes ciFade { to { opacity: 0; visibility: hidden; } }

      .ci-stage{
        position: relative;
        width: min(90vw, 380px);
        height: min(90vh, 320px);
        display: grid;
        place-items: center;
      }

      .ci-cake{ filter: drop-shadow(0 12px 18px rgba(0,0,0,.18)); }

      /* Candle flames flicker */
      .ci-flame{
        transform-origin: center;
        animation: ciFlicker .18s infinite alternate ease-in-out;
      }
      @keyframes ciFlicker{
        from{ transform: translateX(-.8px) scaleY(.95); }
        to  { transform: translateX(.8px)  scaleY(1.05); }
      }

      /* Knife */
      .ci-knife{
        position: absolute;
        width: 220px;
        height: 24px;
        top: 20px;
        left: -60px;
        transform: rotate(-25deg);
        pointer-events: none;
      }
      .ci-blade{
        position: absolute;
        left: 0; top: 0;
        width: 150px; height: 10px;
        background: linear-gradient(90deg,#fafafa,#d1d5db 40%,#9ca3af);
        border-radius: 2px;
        box-shadow: inset 0 0 2px rgba(0,0,0,.25);
      }
      .ci-handle{
        position: absolute;
        left: 150px; top: -2px;
        width: 70px; height: 16px;
        background: #4b5563;
        border-radius: 4px;
        box-shadow: inset 0 2px 0 rgba(255,255,255,.2);
      }

      /* Slice motion */
      #cake-intro.ci-cut .ci-knife{
        animation: ciSlice 1.2s cubic-bezier(.3,.7,.2,1) 1 both;
      }
      @keyframes ciSlice{
        0%   { transform: translate(0,0) rotate(-25deg); }
        50%  { transform: translate(120px,80px) rotate(-20deg); }
        100% { transform: translate(220px,160px) rotate(-15deg); }
      }

      /* Cake halves split a bit */
      .ci-half{ transition: transform .9s cubic-bezier(.2,.8,.2,1); }
      #cake-intro.ci-cut .ci-left { transform: translateX(-18px) rotate(-1deg); }
      #cake-intro.ci-cut .ci-right{ transform: translateX(18px)  rotate( 1deg); }

      /* Spark on the cut line */
      #cake-intro.ci-cut .ci-spark{ animation: ciSpark .9s ease .15s 1 both; }
      @keyframes ciSpark{
        0%{opacity:0}
        10%{opacity:1}
        90%{opacity:1}
        100%{opacity:0}
      }

      /* Skip button */
      .ci-skip{
        position: absolute;
        bottom: 18px;
        right: 18px;
        background: rgba(0,0,0,.55);
        color: #fff;
        border: none;
        border-radius: 999px;
        padding: 8px 14px;
        font: 600 14px/1.1 ui-sans-serif,system-ui;
        cursor: pointer;
      }
      .ci-skip:focus{ outline: 2px solid #fff8; outline-offset: 2px; }

      /* Confetti */
      .confetti{
        position: absolute;
        width: 8px; height: 14px;
        top: -20px; left: 50%;
        opacity: 0;
        transform: translateX(-50%);
        border-radius: 2px;
        animation: confFall linear forwards;
      }
      #cake-intro.ci-cut .confetti{
        animation-duration: var(--d,1.6s);
        animation-delay: var(--dl,0s);
      }
      @keyframes confFall{
        0%   { opacity: 1; transform: translate3d(var(--x,0), -20px, 0) rotate(0); }
        100% { opacity: 1; transform: translate3d(var(--x,0), 110vh, 0) rotate(720deg); }
      }
    </style>
</head>
<body>

    <!-- Cake Cutting Intro (overlay appears first) -->
    <div id="cake-intro" aria-hidden="true">
      <div class="ci-stage" role="img" aria-label="Birthday cake with candles and knife cut animation">
        <svg class="ci-cake" viewBox="0 0 300 240" width="320" height="256" aria-hidden="true">
          <!-- plate -->
          <ellipse cx="150" cy="210" rx="120" ry="18" fill="#e5e7eb"/>
          <!-- cake halves -->
          <g class="ci-half ci-left">
            <rect x="50" y="110" width="100" height="70" rx="8" fill="#ffb6c1"/>
            <rect x="50" y="100" width="100" height="15" fill="#ffe4e6"/>
            <rect x="50" y="135" width="100" height="12" fill="#ffd1dc"/>
          </g>
          <g class="ci-half ci-right">
            <rect x="150" y="110" width="100" height="70" rx="8" fill="#ffb6c1"/>
            <rect x="150" y="100" width="100" height="15" fill="#ffe4e6"/>
            <rect x="150" y="135" width="100" height="12" fill="#ffd1dc"/>
          </g>
          <!-- candles -->
          <g class="ci-candles">
            <g transform="translate(115,95)">
              <rect x="0" y="0" width="10" height="25" fill="#60a5fa" rx="3"/>
              <ellipse class="ci-flame" cx="5" cy="-6" rx="4" ry="7" fill="#f59e0b"/>
            </g>
            <g transform="translate(145,90)">
              <rect x="0" y="0" width="10" height="30" fill="#34d399" rx="3"/>
              <ellipse class="ci-flame" cx="5" cy="-6" rx="4" ry="7" fill="#f59e0b"/>
            </g>
            <g transform="translate(175,95)">
              <rect x="0" y="0" width="10" height="25" fill="#f472b6" rx="3"/>
              <ellipse class="ci-flame" cx="5" cy="-6" rx="4" ry="7" fill="#f59e0b"/>
            </g>
          </g>
          <!-- spark line along the cut -->
          <line class="ci-spark" x1="80" y1="80" x2="220" y2="180" stroke="#fde68a" stroke-width="2" stroke-linecap="round" opacity="0"/>
        </svg>

        <!-- knife -->
        <div class="ci-knife" aria-hidden="true">
          <span class="ci-blade"></span>
          <span class="ci-handle"></span>
        </div>
      </div>
      <button id="ci-skip" class="ci-skip" type="button">Skip</button>
    </div>

    <div id="wrapper">
        <div class="flag__birthday">
            <img src="./images/1.png" alt="" width="350" class="flag__left">
            <img src="./images/1.png" alt="" width="350" class="flag__right">
        </div>
        <div class="content">
            <div class="left">
                <div class="title">
                    <h1 class="happy">
                        <span style="--t: 4s;">H</span>
                        <span style="--t: 4.2s;">a</span>
                        <span style="--t: 4.4s;">p</span>
                        <span style="--t: 4.6s;">p</span>
                        <span style="--t: 4.8s;">y</span>
                    </h1>
                    <h1 class="birthday">
                        <span style="--t: 5s;">B</span>
                        <span style="--t: 5.2s;">i</span>
                        <span style="--t: 5.4s;">r</span>
                        <span style="--t: 5.6s;">t</span>
                        <span style="--t: 5.8s;">h</span>
                        <span style="--t: 6s;">d</span>
                        <span style="--t: 6.2s;">a</span>
                        <span style="--t: 6.4s;">y</span>
                    </h1>
                    <div class="hat">
                        <img src="./images/hat.png" alt="" width="130">
                    </div>
                </div>
                <div class="date__of__birth">
                    <span></span>
                </div>
                <div class="btn">
                    <button id="btn__letter">
                        Click here Supriya ❤️
                        <i class="fa-regular fa-envelope"></i>
                    </button>
                </div>
            </div>
            <div class="right">
                <div class="box__account">
                    <div class="image">
                        <img src="./images/r5.png" alt="">
                    </div>
                    <div class="name">
                        <i class="fa-solid fa-heart"></i>
                        <span>❤️Supriya❤️</span>
                        <i class="fa-solid fa-heart"></i>
                    </div>
                    <div class="balloon_one">
                        <img width="100px" src="./images/balloon1.png" alt="">
                    </div>
                    <div class="balloon_two">
                        <img width="100px" src="./images/balloon2.png" alt="">
                    </div>
                </div>
                <div class="cricle">
                    <div class="text__cricle">
                        <span style="--i: 1;">h</span>
                        <span style="--i: 2;">a</span>
                        <span style="--i: 3;">p</span>
                        <span style="--i: 4;">p</span>
                        <span style="--i: 5;">y</span>
                        <span style="--i: 6;">-</span>
                        <span style="--i: 7;">b</span>
                        <span style="--i: 8;">i</span>
                        <span style="--i: 9;">r</span>
                        <span style="--i: 10;">t</span>
                        <span style="--i: 11;">h</span>
                        <span style="--i: 12;">d</span>
                        <span style="--i: 13;">a</span>
                        <span style="--i: 14;">y</span>
                        <span style="--i: 15;">-</span>
                    </div>
                    <i class="fa-solid fa-heart"></i>
                </div>
            </div>
        </div>
        <div class="decorate_star star1" style="--t: 15s;"></div>
        <div class="decorate_star star2" style="--t: 15.2s;"></div>
        <div class="decorate_star star3" style="--t: 15.4s;"></div>
        <div class="decorate_star star4" style="--t: 15.6s;"></div>
        <div class="decorate_star star5" style="--t: 15.8s;"></div>
        <div class="decorate_flower--one" style="--t: 15s;">
            <img width="20" src="./images/decorate_flower.png" alt="">
        </div>
        <div class="decorate_flower--two" style="--t: 15.3s;">
            <img width="20" src="./images/decorate_flower.png" alt="">
        </div>
        <div class="decorate_flower--three" style="--t: 15.6s;">
            <img width="20" src="./images/decorate_flower.png" alt="">
        </div>
        <div class="decorate_bottom">
            <img src="./images/decorate.png" alt="" width="100">
        </div>
        <div class="smiley__icon">
            <img src="./images/smiley_icon.png" alt="" width="100">
        </div>

        <div class="box__letter">
            <div class="letter__border">
                <div class="letter">
                    <div class="title__letter">
                    </div>
                    <div class="content__letter">
                        <div class="left">
                            <img id="heart__letter" src="https://media.giphy.com/media/YKUvclrGYmDKXwtphf/giphy.gif" alt="">
                            <img class="heart heart_1" style="--t: 0.2s" width="20" src="./images/heart.png" alt="">
                            <img class="heart heart_2" style="--t: 0.4s" width="20" src="./images/heart.png" alt="">
                            <img class="heart heart_3" style="--t: 0.6s" width="20" src="./images/heart.png" alt="">
                            <img class="heart heart_4" style="--t: 0.8s" width="20" src="./images/heart.png" alt="">
                        </div>
                        <div class="right">
                            <div class="love__img">
                                <img src="https://media.giphy.com/media/m85llaN7ZkFIHtURiC/giphy.gif" alt="" width="220">
                            </div>
                            <div class="text__letter">
                                 <p></p>
                            </div>
                            <img id="mewmew" width="80" src="./images/mewmew.gif" alt="">
                        </div>
                    </div>
                </div>
                <div class="close">
                    <i class="fa-solid fa-xmark"></i>
                </div>
            </div>
        </div>
    </div>

    <div id="copy">
        <p class="text-center text-white text-sm">Instagram <a
            href="https://www.instagram.com/aoudumber.dev/reels/#">@darkshadeoflove</a></p>
      </div>

    <!-- Cake Cutting Intro JS -->
    <script>
    (function(){
      const intro = document.getElementById('cake-intro');
      if(!intro) return;

      function burst(n=36){
        const colors=['#f87171','#fbbf24','#34d399','#60a5fa','#a78bfa','#f472b6'];
        for(let i=0;i<n;i++){
          const s=document.createElement('span');
          s.className='confetti';
          s.style.background = colors[i % colors.length];
          s.style.setProperty('--x', (Math.random()*240 - 120) + 'px');
          s.style.setProperty('--d', (1.4 + Math.random()*0.9).toFixed(2) + 's');
          s.style.setProperty('--dl', (0.05 + Math.random()*0.25).toFixed(2) + 's');
          intro.appendChild(s);
          setTimeout(()=>s.remove(), 2600);
        }
      }

      function play(){
        intro.classList.add('ci-cut');
        burst(36);
        setTimeout(hide, 2200);
      }

      function hide(){
        intro.classList.add('ci-fade-out');
        setTimeout(()=>intro.remove(), 800);
      }

      window.addEventListener('load', () => {
        setTimeout(play, 1600);
      });

      document.getElementById('ci-skip').addEventListener('click', hide);
    })();
    </script>

    <!-- Your original script (unchanged) -->
    <script>
        let datetxt = "2 Nov  1999";
        let datatxtletter = "Happy birthday to the most beautiful, special girl in my heart. May your birthday be as beautiful and special as you are. Wishing you all the happiness your heart can hold on your special day.💕";
        let titleLetter = "To you";
        let charArrDate = datetxt.split('');
        let charArrDateLetter = datatxtletter.split('');
        let charArrTitle = titleLetter.split('');
        let currentIndex = 0;
        let currentIndexLetter = 0;
        let currentIndexTitle = 0;
        let date__of__birth = document.querySelector(".date__of__birth span");
        let text__letter = document.querySelector(".text__letter p");
        setTimeout(function(){
            timeDatetxt = setInterval(function(){
                if(currentIndex < charArrDate.length){
                    date__of__birth.textContent += charArrDate[currentIndex];
                    currentIndex++;
                }
                else{
                    let i = document.createElement("i");
                    i.className = "fa-solid fa-star"
                    document.querySelector(".date__of__birth").prepend(i)
                    document.querySelector(".date__of__birth").appendChild(i.cloneNode(true))
                    clearInterval(timeDatetxt)
                }
            },100)
        },12000)

        var intervalContent;
        var intervalTitle;
        $("#btn__letter").on("click", function(){
            $(".box__letter").slideDown()
            setTimeout(function(){
                $(".letter__border").slideDown();
            },1000)
            setTimeout(function(){
                intervalTitle = setInterval(function(){
                    if(currentIndexTitle < charArrTitle.length){
                        document.querySelector(".title__letter").textContent += charArrTitle[currentIndexTitle];
                        let i = document.createElement("i");
                        i.className = "fa-solid fa-heart"
                        document.querySelector(".title__letter").appendChild(i)
                        currentIndexTitle++;
                    }
                    else{
                        clearInterval(intervalTitle)
                    }
                },100)
            },2000)
            setTimeout(function(){
                document.querySelector("#heart__letter").classList.add("animationOp");
                document.querySelector(".love__img").classList.add("animationOp");
                document.querySelector("#mewmew").classList.add("animationOp");
            },2800)
            setTimeout(function(){
                document.querySelectorAll(".heart").forEach((item)=>{
                    item.classList.add("animation")
                })
            },3500)
            setTimeout(function(){
                intervalContent = setInterval(function(){
                    if(currentIndexLetter < charArrDateLetter.length){
                        text__letter.textContent += charArrDateLetter[currentIndexLetter];
                        currentIndexLetter++;
                    }
                    else{
                        clearInterval(intervalContent)
                    }
                },50)
            },6000)
        })
        $(".close").on("click", function(){
            clearInterval(intervalContent)
            document.querySelector(".title__letter").textContent = "";
            text__letter.textContent = "";
            currentIndexLetter = 0
            currentIndexTitle = 0
            document.querySelector("#heart__letter").classList.remove("animationOp");
            document.querySelector(".love__img").classList.remove("animationOp");
            document.querySelector("#mewmew").classList.remove("animationOp");
            document.querySelectorAll(".heart").forEach((item)=>{
                    item.classList.remove("animation")
                })
            $(".box__letter").slideUp();
            $(".letter__border").slideUp();
        })
    </script>
</body>
</html>
