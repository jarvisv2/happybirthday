<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="title" content="Happy Birthday | darkshadeoflove">
    <title>Happy Birthday | darkshadeoflove</title>
    <link rel="stylesheet" href="style.css">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.1/css/all.min.css" crossorigin="anonymous" referrerpolicy="no-referrer" />
    <script src="https://code.jquery.com/jquery-3.7.1.min.js"></script>
    <style>
    /* Timer modal overlay */
    #timerModal {
        position: fixed; top: 0; left: 0;
        width: 100vw; height: 100vh;
        background: rgba(30, 30, 30, 0.93);
        z-index: 9999;
        display: flex; flex-direction: column;
        justify-content: center; align-items: center;
        color: #fff; font-size: 2.5rem;
        letter-spacing: 2px; font-weight: 500;
        transition: opacity 1s;
    }
    #timerModal.fadeout { opacity: 0; pointer-events: none; }
    .timer-count { font-size: 3.5rem; margin-top: 25px; font-family: 'Courier New', Courier, monospace;}
    /* Cake animation styles */
    #cakeSection {
        display: none;
        width: 100%; text-align: center;
        margin-top: 20px;
    }
    #cakeImg {
        width: 220px; transition: filter 0.6s, transform 0.7s;
    }
    #cakeCutMsg {
        font-size: 1.7rem; color: #fe4365;
        font-weight: bold; margin-top:23px; display:none; letter-spacing:2px;
        text-shadow: 0 1px 10px #fff;
    }
    .cake-cut {
        filter: brightness(0.9) drop-shadow(0 0 8px #f7d1ff);
        transform: scale(1.12) rotate(-4deg);
    }
    #cutCakeBtn {
        background: #ff99cc; color: #fff; border: none;
        padding: 13px 28px; font-size: 1.35rem; border-radius: 40px;
        margin-top: 22px; cursor: pointer; box-shadow:0 2px 8px #ddd;
        transition: background 0.3s, transform 0.3s;
    }
    #cutCakeBtn:hover { background: #fe4365; transform: scale(1.09); }
    /* Hide YouTube player visually */
    #ytPlayer { width:0; height:0; opacity:0; pointer-events:none; }
    </style>
</head>
<body>
    <!-- Surprise Timer -->
    <div id="timerModal">
        <span>A surprise is coming</span>
        <div class="timer-count" id="timerCount"></div>
    </div>

    <!-- Cake Section -->
    <div id="cakeSection">
        <img src="https://cdn.pixabay.com/photo/2016/03/31/19/25/birthday-cake-1293812_1280.png" alt="Cake" id="cakeImg">
        <br>
        <button id="cutCakeBtn">Cut the Cake ðŸŽ‚</button>
        <div id="cakeCutMsg">Cake cut! Happy celebration! ðŸŽ‰ðŸ¥³</div>
    </div>

    <!-- YouTube Player (hidden, autoplay after timer) -->
    <iframe id="ytPlayer" src="" frameborder="0" allow="autoplay"></iframe>

    <div id="wrapper">
        <!-- (Original code from your file...) -->
        <!-- All your existing content goes here unchanged -->
        <!-- ... -->
        <!-- Your content, flags, birthday, message, letter, etc. remain the same ... -->
        <div class="flag__birthday">
            <img src="./images/1.png" alt="" width="350" class="flag__left">
            <img src="./images/1.png" alt="" width="350" class="flag__right">
        </div>
        <!-- ...the rest of your page... -->
        <!-- Existing content omitted for brevity (identical to your uploaded code) -->
        <!-- ... -->
    </div>

    <div id="copy">
        <p class="text-center text-white text-sm">darkshadeoflove<a
            href="https://www.instagram.com/@darkshadeoflove"></a></p>
    </div>
<script>
    // --- SURPRISE TIMER ---
    let surpriseTime = 10;
    let timer = surpriseTime;
    let timerModal = document.getElementById('timerModal');
    let timerCount = document.getElementById('timerCount');
    timerCount.textContent = timer;
    let ytPlayer = document.getElementById('ytPlayer');
    function startSurpriseCountdown() {
        let interval = setInterval(function() {
            timer--;
            timerCount.textContent = timer;
            if (timer <= 0) {
                clearInterval(interval);
                // Fade out modal
                timerModal.classList.add('fadeout');
                setTimeout(function(){
                    timerModal.style.display="none";
                    // Start auto-play YouTube!
                    ytPlayer.src = "https://www.youtube.com/embed/kcGojPJzh1k?autoplay=1&mute=0";
                    // Show cake animation section
                    document.getElementById('cakeSection').style.display = 'block';
                },1000);
            }
        },1000);
    }
    startSurpriseCountdown();

    // --- CAKE CUTTING ---
    let cakeCutBtn = document.getElementById('cutCakeBtn');
    let cakeImg = document.getElementById('cakeImg');
    let cakeCutMsg = document.getElementById('cakeCutMsg');
    cakeCutBtn.addEventListener('click', function() {
        cakeImg.classList.add('cake-cut');
        setTimeout(function(){
            cakeCutMsg.style.display = 'block';
        },650);
        cakeCutBtn.disabled=true;
        cakeCutBtn.innerText="Cake Cut!";
    });

    // ----- Remain all your original logic -----
    let datetxt = "2 Nov 1999";
    let datatxtletter = "Happy birthday to the most beautiful, special girl in my heart. May your birthday be as beautiful and special as you are. Wishing you all the happiness your heart can hold on your special day.ðŸ’•"
    let titleLetter = "To you";
    let charArrDate = datetxt.split('');
    let charArrDateLetter = datatxtletter.split('');
    let charArrTitle = titleLetter.split('');
    let currentIndex = 0;
    let currentIndexLetter = 0;
    let currentIndexTitle = 0;
    let date__of__birth = document.querySelector(".date__of__birth span");
    let text__letter = document.querySelector(".text__letter p");
    setTimeout(function(){
        timeDatetxt = setInterval(function(){
            if(currentIndex < charArrDate.length){
                date__of__birth.textContent += charArrDate[currentIndex];
                currentIndex++;
            }
            else{
                let i = document.createElement("i");
                i.className = "fa-solid fa-star"
                document.querySelector(".date__of__birth").prepend(i)
                document.querySelector(".date__of__birth").appendChild(i.cloneNode(true))
                clearInterval(timeDatetxt)
            }
        },100)
    },12000)

    var intervalContent;
    var intervalTitle;
    $("#btn__letter").on("click", function(){
        $(".box__letter").slideDown()
        setTimeout(function(){
            $(".letter__border").slideDown();
        },1000)
        setTimeout(function(){
            intervalTitle = setInterval(function(){
                if(currentIndexTitle < charArrTitle.length){
                    document.querySelector(".title__letter").textContent += charArrTitle[currentIndexTitle];
                    let i = document.createElement("i");
                    i.className = "fa-solid fa-heart"
                    document.querySelector(".title__letter").appendChild(i)
                    currentIndexTitle++;
                }
                else{
                    clearInterval(intervalTitle)
                }
            },100)
        },2000)
        setTimeout(function(){
            document.querySelector("#heart__letter").classList.add("animationOp");
            document.querySelector(".love__img").classList.add("animationOp");
            document.querySelector("#mewmew").classList.add("animationOp");
        },2800)
        setTimeout(function(){
            document.querySelectorAll(".heart").forEach((item)=>{
                item.classList.add("animation")
            })
        },3500)
        setTimeout(function(){
            intervalContent = setInterval(function(){
                if(currentIndexLetter < charArrDateLetter.length){
                    text__letter.textContent += charArrDateLetter[currentIndexLetter];
                    currentIndexLetter++;
                }
                else{
                    clearInterval(intervalContent)
                }
            },50)
        },6000)
    })
    $(".close").on("click", function(){
        clearInterval(intervalContent)
        document.querySelector(".title__letter").textContent = "";
        text__letter.textContent = "";
        currentIndexLetter = 0
        currentIndexTitle = 0
        document.querySelector("#heart__letter").classList.remove("animationOp");
        document.querySelector(".love__img").classList.remove("animationOp");
        document.querySelector("#mewmew").classList.remove("animationOp");
        document.querySelectorAll(".heart").forEach((item)=>{
                item.classList.remove("animation")
            })
        $(".box__letter").slideUp();
        $(".letter__border").slideUp();
    })
</script>
</body>
</html>
