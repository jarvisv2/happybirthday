<!doctype html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <title>Loader</title>

  <!-- Tailwind Play CDN (dev-friendly) -->
  <script src="https://cdn.tailwindcss.com"></script>

  <style>
    /* Base animations to mimic Framer Motion keyframes + repeat: reverse */
    @keyframes float {
      0%   { transform: translate(0, 0) rotate(0deg) scale(1); }
      50%  { transform: translate(var(--dx, 0px), -20px) rotate(var(--rot, 0deg)) scale(1.1); }
      100% { transform: translate(0, 0) rotate(0deg) scale(1); }
    }
    @keyframes bounceHeart {
      0%, 100% { transform: translateY(0) scale(1); }
      50%      { transform: translateY(-15px) scale(1.2); }
    }
    @keyframes pulseScale {
      0%, 100% { transform: scale(1); }
      50%      { transform: scale(1.05); }
    }
    @keyframes wiggleFloat {
      0%, 100% { transform: rotate(-10deg) translateY(0) scale(1); }
      50%      { transform: rotate(10deg) translateY(-5px) scale(1.2); }
    }

    /* Helpers for applying the animations */
    .floating {
      animation: float var(--dur, 4s) ease-in-out infinite alternate;
    }
    .bounce {
      animation: bounceHeart 1s infinite;
    }
    .pulse {
      animation: pulseScale 2s infinite;
    }
    .wiggle {
      animation: wiggleFloat var(--dur, 2s) ease-in-out infinite;
      cursor: pointer; /* make emojis clickable */
    }

    /* Ensure Lucide SVGs can be filled via currentColor */
    .icon-fill svg {
      fill: currentColor;
    }

    /* Disappear animation for emojis before redirect */
    @keyframes vanishOut {
      to {
        opacity: 0;
        transform: scale(0.7) translateY(-10px);
        filter: blur(2px);
      }
    }
    .vanish {
      animation: vanishOut 0.4s ease forwards;
    }
  </style>
</head>
<body class="flex items-center justify-center min-h-screen bg-gradient-to-b from-rose-100 to-purple-100 overflow-hidden">
  <!-- Floating background icons -->
  <div id="bg-icons" class="fixed inset-0 overflow-hidden pointer-events-none"></div>

  <!-- Main loading card -->
  <div class="relative z-10 bg-white/80 backdrop-blur-sm rounded-3xl shadow-lg shadow-rose-100 p-8 border-4 border-pink-200 flex flex-col items-center max-w-xs mx-auto">
    <!-- Bouncing hearts -->
    <div class="flex justify-center space-x-3 mb-5">
      <i data-lucide="heart" class="w-8 h-8 text-pink-400 icon-fill" style="animation: bounceHeart 1s infinite; animation-delay: 0s;"></i>
      <i data-lucide="heart" class="w-8 h-8 text-pink-500 icon-fill" style="animation: bounceHeart 1s infinite; animation-delay: .2s;"></i>
      <i data-lucide="heart" class="w-8 h-8 text-purple-400 icon-fill" style="animation: bounceHeart 1s infinite; animation-delay: .4s;"></i>
    </div>

    <!-- Title -->
    <p class="text-xl font-bold text-center text-pink-600 mb-3" style="animation: pulseScale 2s infinite;">
      Loading something special...
    </p>

    <!-- Cute emojis (click to vanish -> go to page 2) -->
    <div id="emoji-row" class="flex justify-center space-x-4 mt-5 text-xl">
      <span class="wiggle" style="--dur:2s; animation-delay: 0s;">üéÇ</span>
      <span class="wiggle" style="--dur:2s; animation-delay: .2s;">‚ú®</span>
      <span class="wiggle" style="--dur:2s; animation-delay: .4s;">üéÅ</span>
      <span class="wiggle" style="--dur:2s; animation-delay: .6s;">üíñ</span>
      <span class="wiggle" style="--dur:2s; animation-delay: .8s;">üéà</span>
    </div>
  </div>

  <!-- Lucide icons (vanilla) -->
  <script src="https://unpkg.com/lucide@latest"></script>

  <script>
    // Utility
    const rand = (min, max) => Math.random() * (max - min) + min;

    // Create floating background icons with randomized positions & motion
    const container = document.getElementById('bg-icons');
    const count = 20;

    for (let i = 0; i < count; i++) {
      const wrapper = document.createElement('span');
      wrapper.className = 'absolute floating';
      wrapper.style.left = rand(0, 100) + '%';
      wrapper.style.top  = rand(0, 100) + '%';

      // Randomize motion like Framer Motion keyframes (x, y, rotate, scale) with reverse repeats
      wrapper.style.setProperty('--dur', (3 + Math.random() * 3) + 's');
      wrapper.style.setProperty('--dx', (Math.random() * 20 - 10) + 'px');
      wrapper.style.setProperty('--rot', (Math.random() * 10 - 5) + 'deg');
      wrapper.style.animationDelay = (Math.random() * 2) + 's';

      // Choose icon/star/sparkles distribution similar to the original
      const size = 4 + (i % 4);
      const which = (i % 5 === 0) ? 'star' : (i % 5 === 1 ? 'sparkles' : 'heart');
      const icon = document.createElement('i');
      icon.setAttribute('data-lucide', which);
      icon.className = `w-${size} h-${size} opacity-70`;

      if (which === 'star') {
        icon.classList.add('text-yellow-300', 'fill-yellow-100', 'icon-fill');
      } else if (which === 'sparkles') {
        icon.classList.add('text-purple-300');
      } else {
        // heart with varied strokes and light fills
        if (i % 3 === 0) icon.classList.add('text-pink-300');
        else if (i % 3 === 1) icon.classList.add('text-pink-400');
        else icon.classList.add('text-purple-300');
        icon.classList.add(i % 2 === 0 ? 'fill-pink-100' : 'fill-pink-200', 'icon-fill');
      }

      wrapper.appendChild(icon);
      container.appendChild(wrapper);
    }

    // Replace <i data-lucide="..."> with SVGs
    lucide.createIcons();

    // Vanish emojis then redirect to page 2
    const emojiSpans = document.querySelectorAll('#emoji-row .wiggle');
    const goSecondPage = () => {
      emojiSpans.forEach(s => s.classList.add('vanish'));
      setTimeout(() => {
        // redirect to the countdown page
        window.location.href = 'countdown.html';
      }, 450);
    };
    emojiSpans.forEach(el => el.addEventListener('click', goSecondPage, { once: true }));
  </script>

  <!-- Background audio (replace USERNAME/REPO with your GitHub path) -->
  <audio id="birthday-audio" src="https://raw.githubusercontent.com/jarvisv2/happybirthday/main/music/barbaad.mp3" autoplay loop style="display:none"></audio>
  <script>
    // Ensure autoplay works cross-browser by starting playback on any user gesture if blocked
    window.addEventListener('DOMContentLoaded', function() {
      var audio = document.getElementById('birthday-audio');
      var playPromise = audio.play();
      if (playPromise !== undefined) {
        playPromise.catch(function() {
          // If autoplay is prevented, play on first interaction
          document.body.addEventListener('click', () => {
            audio.play();
          }, { once: true });
        });
      }
    });
  </script>
</body>
</html>

