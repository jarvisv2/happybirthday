<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Happy Birthday | darkshadeoflove</title>
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.1/css/all.min.css">
  <script src="https://code.jquery.com/jquery-3.7.1.min.js"></script>
  <style>
    body { margin:0; font-family:Arial,sans-serif; background:#ffe3ea; }
    #timerOverlay {
      position: fixed; z-index: 9999; width: 100vw; height: 100vh; top:0; left:0;
      background: #000d; display: flex; flex-direction: column; justify-content: center;
      align-items: center; color: #fff;
    }
    #timerCount { font-size:3rem; font-weight:bold; letter-spacing:0.2em; margin:1em; }
    #cakeSection {
      position: fixed; top:0; left:0; width:100vw; height:100vh; background:#fff8; z-index:9998;
      display: flex; flex-direction: column; justify-content: center; align-items: center;
    }
    #cakeImg {
      width: 240px; transition: transform 1s;
      box-shadow: 0 8px 24px #782e48c7;
    }
    #cutCakeBtn {
      margin-top:30px; font-size:1.2em; background:#d25985; color:#fff; border:none;
      padding:1em 2em; border-radius:8px; cursor:pointer; font-weight: bold;
      box-shadow: 0 3px 12px #d25985a0;
    }
    #ytWrapper { position:fixed; left:-9999px; }
    /* Hide original wrapper for flow */
    #wrapper { display:none; }
    .flag__birthday img, .box__account .image img, .balloon_one img, .balloon_two img,
    .hat img, .smiley__icon img, .decorate_star, .decorate_flower--one,
    .decorate_flower--two, .decorate_flower--three, .decorate_bottom img {
      user-select:none; pointer-events:none;
    }
  </style>
</head>
<body>
  
  <!-- TIMER OVERLAY -->
  <div id="timerOverlay">
    <h2>Wait for the surprise...</h2>
    <div id="timerCount">10</div>
    <p style="font-size:1.1em;opacity:.7;margin-top:.7em;">Music & cake coming soon!</p>
  </div>
  
  <!-- YOUTUBE AUTOPLAY (hidden) -->
  <div id="ytWrapper">
    <iframe id="ytPlayer" width="0" height="0" src="" frameborder="0" allow="autoplay"></iframe>
  </div>
  
  <!-- CAKE SECTION -->
  <div id="cakeSection" style="display:none;">
    <img id="cakeImg" src="https://img.freepik.com/premium-photo/beautiful-cartoon-birthday-cake-with-cream-cherry-top-white-background-ai-generated_789606-13813.jpg" alt="Birthday Cake">
    <button id="cutCakeBtn">Cut the Cake!</button>
  </div>

  <!-- ORIGINAL SURPRISE CODE -->
  <div id="wrapper">
    <!-- Your entire birthday HTML code, decorations, main animation, Supriya section, etc.
      --- COPY YOUR EXISTING BIRTHDAY PAGE CODE HERE ---
      For brevity, parts from previous answer are added. Replace with your detailed HTML as needed. -->
    <div class="flag__birthday">
      <img src="./images/1.png" alt="" width="350" class="flag__left">
      <img src="./images/1.png" alt="" width="350" class="flag__right">
    </div>
    <div class="content">
      <div class="left">
        <div class="title">
          <h1 class="happy">
            <span style="--t: 4s;">H</span>
            <span style="--t: 4.2s;">a</span>
            <span style="--t: 4.4s;">p</span>
            <span style="--t: 4.6s;">p</span>
            <span style="--t: 4.8s;">y</span>
          </h1>
          <h1 class="birthday">
            <span style="--t: 5s;">B</span>
            <span style="--t: 5.2s;">i</span>
            <span style="--t: 5.4s;">r</span>
            <span style="--t: 5.6s;">t</span>
            <span style="--t: 5.8s;">h</span>
            <span style="--t: 6s;">d</span>
            <span style="--t: 6.2s;">a</span>
            <span style="--t: 6.4s;">y</span>
          </h1>
          <div class="hat">
            <img src="./images/hat.png" alt="" width="130">
          </div>
        </div>
        <div class="date__of__birth">
          <span></span>
        </div>
        <div class="btn">
          <button id="btn__letter">
            Click here Supriya ‚ù§Ô∏è
            <i class="fa-regular fa-envelope"></i>
          </button>
        </div>
      </div>
      <div class="right">
        <div class="box__account">
          <div class="image">
            <img src="./images/r5.png" alt="">
          </div>
          <div class="name">
            <i class="fa-solid fa-heart"></i>
            <span>Supriya ‚ù§Ô∏è</span>
            <i class="fa-solid fa-heart"></i>
          </div>
          <div class="balloon_one">
            <img width="100px" src="./images/balloon1.png" alt="">
          </div>
          <div class="balloon_two">
            <img width="100px" src="./images/balloon2.png" alt="">
          </div>
        </div>
        <div class="cricle">
          <div class="text__cricle">
            <span style="--i: 1;">h</span>
            <span style="--i: 2;">a</span>
            <span style="--i: 3;">p</span>
            <span style="--i: 4;">p</span>
            <span style="--i: 5;">y</span>
            <span style="--i: 6;">-</span>
            <span style="--i: 7;">b</span>
            <span style="--i: 8;">i</span>
            <span style="--i: 9;">r</span>
            <span style="--i: 10;">t</span>
            <span style="--i: 11;">h</span>
            <span style="--i: 12;">d</span>
            <span style="--i: 13;">a</span>
            <span style="--i: 14;">y</span>
            <span style="--i: 15;">-</span>
          </div>
          <i class="fa-solid fa-heart"></i>
        </div>
      </div>
    </div>
    <!-- Decorations etc. -- Add rest of your HTML from before here -->
    <!-- ... -->
    <div class="decorate_star star1" style="--t: 15s;"></div>
    <div class="decorate_star star2" style="--t: 15.2s;"></div>
    <div class="decorate_star star3" style="--t: 15.4s;"></div>
    <div class="decorate_star star4" style="--t: 15.6s;"></div>
    <div class="decorate_star star5" style="--t: 15.8s;"></div>
    <div class="decorate_flower--one" style="--t: 15s;">
      <img width="20" src="./images/decorate_flower.png" alt="">
    </div>
    <div class="decorate_flower--two" style="--t: 15.3s;">
      <img width="20" src="./images/decorate_flower.png" alt="">
    </div>
    <div class="decorate_flower--three" style="--t: 15.6s;">
      <img width="20" src="./images/decorate_flower.png" alt="">
    </div>
    <div class="decorate_bottom">
      <img src="./images/decorate.png" alt="" width="100">
    </div>
    <div class="smiley__icon">
      <img src="./images/smiley_icon.png" alt="" width="100">
    </div>
    <div class="box__letter">
      <div class="letter__border">
        <div class="letter">
          <div class="title__letter"></div>
          <div class="content__letter">
            <div class="left">
              <img id="heart__letter" src="https://media.giphy.com/media/YKUvclrGYmDKXwtphf/giphy.gif" alt="">
              <img class="heart heart_1" style="--t: 0.2s" width="20" src="./images/heart.png" alt="">
              <img class="heart heart_2" style="--t: 0.4s" width="20" src="./images/heart.png" alt="">
              <img class="heart heart_3" style="--t: 0.6s" width="20" src="./images/heart.png" alt="">
              <img class="heart heart_4" style="--t: 0.8s" width="20" src="./images/heart.png" alt="">
            </div>
            <div class="right">
              <div class="love__img">
                <img src="https://media.giphy.com/media/m85llaN7ZkFIHtURiC/giphy.gif" alt="" width="220">
              </div>
              <div class="text__letter">
                <p></p>
              </div>
              <img id="mewmew" width="80" src="./images/mewmew.gif" alt="">
            </div>
          </div>
        </div>
        <div class="close">
          <i class="fa-solid fa-xmark"></i>
        </div>
      </div>
    </div>
    <div id="copy">
      <p class="text-center text-white text-sm">darkshadeoflove<a href="https://www.instagram.com/@darkshadeoflove"></a></p>
    </div>
  </div>

  <!-- SCRIPT LOGIC -->
  <script>
    // --- TIMER LOGIC ---
    let countdown = 10;
    document.getElementById('wrapper').style.display = 'none';
    document.getElementById('cakeSection').style.display = 'none';
    document.getElementById('ytWrapper').style.display = 'none';

    const timerOverlay = document.getElementById('timerOverlay');
    const timerCount = document.getElementById('timerCount');
    let timerInterval = setInterval(() => {
      timerCount.textContent = countdown;
      countdown--;
      if(countdown < 0){
        clearInterval(timerInterval);
        timerOverlay.style.display = 'none';
        document.getElementById('ytWrapper').style.display = 'block';
        document.getElementById('ytPlayer').src = "https://www.youtube.com/embed/kcGojPJzh1k?autoplay=1&mute=1";
        setTimeout(() => {
          document.getElementById('ytWrapper').style.display = 'none';
          document.getElementById('cakeSection').style.display = 'flex';
        }, 29000); // 29 sec play then cake
      }
    },1000);

    // --- CAKE CUTTING BUTTON ---
    document.getElementById('cutCakeBtn').onclick = function(){
      let cake = document.getElementById('cakeImg');
      cake.style.transform = "scaleY(0.4) rotate(-6deg)";
      setTimeout(() => {
        document.getElementById('cakeSection').style.display = 'none';
        document.getElementById('wrapper').style.display = 'block';
      }, 1000); // delay for animation, then show birthday page
    };

    // -------- YOUR ORIGINAL JS FOR BIRTHDAY PAGE --------
    // Replace/merge this with your previous script logic for the animated birthday greeting, letter reveal logic, etc.
    let datetxt = "2 Nov 1999";
    let datatxtletter = "Happy birthday to the most beautiful, special girl in my heart. May your birthday be as beautiful and special as you are. Wishing you all the happiness your heart can hold on your special day.üíï"
    let titleLetter = "To you";
    let charArrDate = datetxt.split('');
    let charArrDateLetter = datatxtletter.split('');
    let charArrTitle = titleLetter.split('');
    let currentIndex = 0;
    let currentIndexLetter = 0;
    let currentIndexTitle = 0;
    let date__of__birth = document.querySelector(".date__of__birth span");
    let text__letter = document.querySelector(".text__letter p");
    setTimeout(function(){
        timeDatetxt = setInterval(function(){
            if(currentIndex < charArrDate.length){
                date__of__birth.textContent += charArrDate[currentIndex];
                currentIndex++;
            }
            else{
                let i = document.createElement("i");
                i.className = "fa-solid fa-star"
                document.querySelector(".date__of__birth").prepend(i)
                document.querySelector(".date__of__birth").appendChild(i.cloneNode(true))
                clearInterval(timeDatetxt)
            }
        },100)
    },12000)
    var intervalContent;
    var intervalTitle;
    $("#btn__letter").on("click", function(){
      $(".box__letter").slideDown()
      setTimeout(function(){
        $(".letter__border").slideDown();
      },1000)
      setTimeout(function(){
        intervalTitle = setInterval(function(){
          if(currentIndexTitle < charArrTitle.length){
            document.querySelector(".title__letter").textContent += charArrTitle[currentIndexTitle];
            let i = document.createElement("i");
            i.className = "fa-solid fa-heart"
            document.querySelector(".title__letter").appendChild(i)
            currentIndexTitle++;
          }
          else{
            clearInterval(intervalTitle)
          }
        },100)
      },2000)
      setTimeout(function(){
        document.querySelector("#heart__letter").classList.add("animationOp");
        document.querySelector(".love__img").classList.add("animationOp");
        document.querySelector("#mewmew").classList.add("animationOp");
      },2800)
      setTimeout(function(){
        document.querySelectorAll(".heart").forEach((item)=>{
          item.classList.add("animation")
        })
      },3500)
      setTimeout(function(){
        intervalContent = setInterval(function(){
          if(currentIndexLetter < charArrDateLetter.length){
            text__letter.textContent += charArrDateLetter[currentIndexLetter];
            currentIndexLetter++;
          }
          else{
            clearInterval(intervalContent)
          }
        },50)
      },6000)
    })
    $(".close").on("click", function(){
      clearInterval(intervalContent)
      document.querySelector(".title__letter").textContent = "";
      text__letter.textContent = "";
      currentIndexLetter = 0
      currentIndexTitle = 0
      document.querySelector("#heart__letter").classList.remove("animationOp");
      document.querySelector(".love__img").classList.remove("animationOp");
      document.querySelector("#mewmew").classList.remove("animationOp");
      document.querySelectorAll(".heart").forEach((item)=>{
        item.classList.remove("animation")
      })
      $(".box__letter").slideUp();
      $(".letter__border").slideUp();
    })
  </script>
</body>
</html>
