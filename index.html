<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Happy Birthday | darkshadeoflove</title>
  <link rel="stylesheet" href="style.css" />
  <link
    rel="stylesheet"
    href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.1/css/all.min.css"
  />
  <script src="https://code.jquery.com/jquery-3.7.1.min.js"></script>

  <style>
    body {
      margin: 0;
      overflow: hidden;
      background: #fff;
    }

    /* === Surprise screen === */
    #surprise {
      position: fixed;
      inset: 0;
      background: radial-gradient(circle at center, #ffb6c1, #ff69b4);
      display: flex;
      align-items: center;
      justify-content: center;
      color: white;
      font-size: 2.5rem;
      font-family: "Poppins", sans-serif;
      z-index: 9999;
      animation: fadeIn 1s ease-in-out;
    }

    @keyframes fadeIn {
      from { opacity: 0; }
      to { opacity: 1; }
    }

    @keyframes fadeOut {
      from { opacity: 1; }
      to { opacity: 0; }
    }

    /* === Cake Section === */
    #cake-section {
      position: fixed;
      inset: 0;
      background: #ffebf0;
      display: none;
      align-items: center;
      justify-content: center;
      flex-direction: column;
      z-index: 9998;
      font-family: "Poppins", sans-serif;
    }

    #cake-wrapper {
      position: relative;
      display: flex;
      align-items: center;
      justify-content: center;
    }

    #cake {
      width: 250px;
      z-index: 1;
      animation: floatCake 2s infinite ease-in-out alternate;
    }

    @keyframes floatCake {
      from { transform: translateY(0); }
      to { transform: translateY(-10px); }
    }

    /* Knife animation */
    #knife {
      position: absolute;
      width: 180px;
      top: -100px;
      left: -200px;
      transform: rotate(30deg);
      opacity: 0;
      transition: all 1s ease-in-out;
    }

    #cutCakeBtn {
      background: #ff4f70;
      color: #fff;
      padding: 12px 25px;
      border: none;
      border-radius: 10px;
      cursor: pointer;
      font-size: 1.2rem;
      margin-top: 25px;
      transition: 0.3s;
    }

    #cutCakeBtn:hover {
      background: #ff1f50;
    }

    /* Hide YouTube player */
    #yt-player {
      position: fixed;
      bottom: 0;
      left: 0;
      width: 1px;
      height: 1px;
      opacity: 0;
      pointer-events: none;
      z-index: -1;
    }
  </style>
</head>

<body>
  <!-- Surprise Screen -->
  <div id="surprise">üéÅ A surprise is coming...</div>

  <!-- Cake Section -->
  <div id="cake-section">
    <div id="cake-wrapper">
      <img id="cake" src="https://media.giphy.com/media/3o6Zt481isNVuQI1l6/giphy.gif" alt="Cake" />
      <img id="knife" src="https://cdn-icons-png.flaticon.com/512/3222/3222691.png" alt="Knife" />
    </div>
    <button id="cutCakeBtn">Cut the Cake üéÇ</button>
  </div>

  <!-- Hidden YouTube Music -->
  <iframe
    id="yt-player"
    src="https://www.youtube.com/embed/kcGojPJzh1k?autoplay=1&mute=1&loop=1&playlist=kcGojPJzh1k"
    allow="autoplay"
  ></iframe>

  <!-- Your Original Code -->
  <div id="wrapper" style="display: none">
    <!-- Keep your existing HTML content here exactly -->
    <div class="flag__birthday">
      <img src="./images/1.png" width="350" class="flag__left" />
      <img src="./images/1.png" width="350" class="flag__right" />
    </div>

    <div class="content">
      <div class="left">
        <div class="title">
          <h1 class="happy">
            <span style="--t: 4s">H</span>
            <span style="--t: 4.2s">a</span>
            <span style="--t: 4.4s">p</span>
            <span style="--t: 4.6s">p</span>
            <span style="--t: 4.8s">y</span>
          </h1>
          <h1 class="birthday">
            <span style="--t: 5s">B</span>
            <span style="--t: 5.2s">i</span>
            <span style="--t: 5.4s">r</span>
            <span style="--t: 5.6s">t</span>
            <span style="--t: 5.8s">h</span>
            <span style="--t: 6s">d</span>
            <span style="--t: 6.2s">a</span>
            <span style="--t: 6.4s">y</span>
          </h1>
          <div class="hat"><img src="./images/hat.png" width="130" /></div>
        </div>
        <div class="date__of__birth"><span></span></div>
        <div class="btn">
          <button id="btn__letter">Click here Supriya ‚ù§Ô∏è <i class="fa-regular fa-envelope"></i></button>
        </div>
      </div>

      <div class="right">
        <div class="box__account">
          <div class="image"><img src="./images/r5.png" /></div>
          <div class="name"><i class="fa-solid fa-heart"></i><span>Supriya ‚ù§Ô∏è</span><i class="fa-solid fa-heart"></i></div>
          <div class="balloon_one"><img width="100px" src="./images/balloon1.png" /></div>
          <div class="balloon_two"><img width="100px" src="./images/balloon2.png" /></div>
        </div>
        <div class="cricle">
          <div class="text__cricle">
            <span style="--i: 1">h</span><span style="--i: 2">a</span><span style="--i: 3">p</span>
            <span style="--i: 4">p</span><span style="--i: 5">y</span><span style="--i: 6">-</span>
            <span style="--i: 7">b</span><span style="--i: 8">i</span><span style="--i: 9">r</span>
            <span style="--i: 10">t</span><span style="--i: 11">h</span><span style="--i: 12">d</span>
            <span style="--i: 13">a</span><span style="--i: 14">y</span>
          </div>
          <i class="fa-solid fa-heart"></i>
        </div>
      </div>
    </div>

    <!-- Letter section -->
    <div class="box__letter">
      <div class="letter__border">
        <div class="letter">
          <div class="title__letter"></div>
          <div class="content__letter">
            <div class="left">
              <img id="heart__letter" src="https://media.giphy.com/media/YKUvclrGYmDKXwtphf/giphy.gif" />
            </div>
            <div class="right">
              <div class="love__img"><img src="https://media.giphy.com/media/m85llaN7ZkFIHtURiC/giphy.gif" width="220" /></div>
              <div class="text__letter"><p></p></div>
              <img id="mewmew" width="80" src="./images/mewmew.gif" />
            </div>
          </div>
        </div>
        <div class="close"><i class="fa-solid fa-xmark"></i></div>
      </div>
    </div>
  </div>

  <div id="copy">
    <p class="text-center text-white text-sm">
      darkshadeoflove <a href="https://www.instagram.com/@darkshadeoflove"></a>
    </p>
  </div>

  <script>
    // === Surprise Timer ===
    setTimeout(() => {
      document.getElementById("surprise").style.animation = "fadeOut 1s forwards";
      setTimeout(() => {
        document.getElementById("surprise").style.display = "none";
        document.getElementById("cake-section").style.display = "flex";
      }, 1000);
    }, 3000);

    // === Cake Cutting Animation ===
    const knife = document.getElementById("knife");
    const cake = document.getElementById("cake");
    const ytPlayer = document.getElementById("yt-player");

    document.getElementById("cutCakeBtn").addEventListener("click", () => {
      // knife moves
      knife.style.opacity = "1";
      knife.style.left = "80px";
      knife.style.top = "80px";
      knife.style.transform = "rotate(120deg)";
      setTimeout(() => {
        knife.style.opacity = "0";
      }, 800);

      // cake fade and next scene
      setTimeout(() => {
        document.getElementById("cake-section").style.animation = "fadeOut 1s forwards";
        setTimeout(() => {
          document.getElementById("cake-section").style.display = "none";
          document.getElementById("wrapper").style.display = "block";

          // Unmute YouTube player using API
          ytPlayer.contentWindow.postMessage('{"event":"command","func":"unMute","args":""}', '*');
        }, 1000);
      }, 1200);
    });

    // === Birthday Message Script ===
    let datetxt = "2 Nov 1999";
    let datatxtletter =
      "Happy birthday to the most beautiful, special girl in my heart. May your birthday be as beautiful and special as you are. Wishing you all the happiness your heart can hold on your special day.üíï";
    let titleLetter = "To you";
    let charArrDate = datetxt.split("");
    let charArrDateLetter = datatxtletter.split("");
    let charArrTitle = titleLetter.split("");
    let currentIndex = 0;
    let currentIndexLetter = 0;
    let currentIndexTitle = 0;
    let date__of__birth = document.querySelector(".date__of__birth span");
    let text__letter = document.querySelector(".text__letter p");

    setTimeout(function () {
      timeDatetxt = setInterval(function () {
        if (currentIndex < charArrDate.length) {
          date__of__birth.textContent += charArrDate[currentIndex];
          currentIndex++;
        } else {
          let i = document.createElement("i");
          i.className = "fa-solid fa-star";
          document.querySelector(".date__of__birth").prepend(i);
          document.querySelector(".date__of__birth").appendChild(i.cloneNode(true));
          clearInterval(timeDatetxt);
        }
      }, 100);
    }, 12000);

    var intervalContent;
    var intervalTitle;
    $("#btn__letter").on("click", function () {
      $(".box__letter").slideDown();
      setTimeout(function () {
        $(".letter__border").slideDown();
      }, 1000);
      setTimeout(function () {
        intervalTitle = setInterval(function () {
          if (currentIndexTitle < charArrTitle.length) {
            document.querySelector(".title__letter").textContent += charArrTitle[currentIndexTitle];
            let i = document.createElement("i");
            i.className = "fa-solid fa-heart";
            document.querySelector(".title__letter").appendChild(i);
            currentIndexTitle++;
          } else {
            clearInterval(intervalTitle);
          }
        }, 100);
      }, 2000);
      setTimeout(function () {
        document.querySelector("#heart__letter").classList.add("animationOp");
        document.querySelector(".love__img").classList.add("animationOp");
        document.querySelector("#mewmew").classList.add("animationOp");
      }, 2800);
      setTimeout(function () {
        document.querySelectorAll(".heart").forEach((item) => {
          item.classList.add("animation");
        });
      }, 3500);
      setTimeout(function () {
        intervalContent = setInterval(function () {
          if (currentIndexLetter < charArrDateLetter.length) {
            text__letter.textContent += charArrDateLetter[currentIndexLetter];
            currentIndexLetter++;
          } else {
            clearInterval(intervalContent);
          }
        }, 50);
      }, 6000);
    });
    $(".close").on("click", function () {
      clearInterval(intervalContent);
      document.querySelector(".title__letter").textContent = "";
      text__letter.textContent = "";
      currentIndexLetter = 0;
      currentIndexTitle = 0;
      document.querySelector("#heart__letter").classList.remove("animationOp");
      document.querySelector(".love__img").classList.remove("animationOp");
      document.querySelector("#mewmew").classList.remove("animationOp");
      document.querySelectorAll(".heart").forEach((item) => {
        item.classList.remove("animation");
      });
      $(".box__letter").slideUp();
      $(".letter__border").slideUp();
    });
  </script>
</body>
</html>
