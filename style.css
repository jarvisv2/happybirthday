/* === Overlay additions (append at end) === */

#launch-overlay {
  position: fixed;
  inset: 0;
  background: radial-gradient(1200px 600px at 50% 0%, #ffe6ea 0%, #feecea 40%, #ffd6de 100%);
  display: grid;
  place-items: center;
  z-index: 9999;
}
#launch-overlay .overlay-inner {
  display: grid;
  gap: 28px;
  place-items: center;
}

/* Countdown */
.countdown { position: relative; width: 220px; height: 220px; display: grid; place-items: center; }
.ring { width: 220px; height: 220px; transform: rotate(-90deg); }
.ring .bg { fill: none; stroke: #ffe2e7; stroke-width: 12; }
.ring .fg {
  fill: none; stroke: #ff7882; stroke-linecap: round; stroke-width: 12;
  stroke-dasharray: 339.292; stroke-dashoffset: 0; transition: stroke-dashoffset 1s linear;
  filter: drop-shadow(0 2px 6px rgba(0,0,0,.15));
}
.count-num { position: absolute; font: 700 64px/1 "Titan One", system-ui, sans-serif; color: #333; text-shadow: 0 3px 0 #fff; }
.count-label { position: absolute; bottom: -30px; font: 600 14px/1.2 "Sriracha", cursive; color: #ff7882; }

/* Player */
.player-stage {
  width: min(92vw, 640px);
  aspect-ratio: 16/9;
  border-radius: 16px;
  overflow: hidden;
  box-shadow: 0 10px 30px rgba(0,0,0,.25);
  background: #000;
}
.player-stage iframe { width: 100%; height: 100%; border: 0; }

/* Cake */
.cake-stage { display: grid; place-items: center; gap: 18px; }
.cake { position: relative; width: 260px; height: 200px; }
.plate {
  position: absolute; bottom: 0; left: 50%; width: 240px; height: 18px; background: #fff;
  border: 3px solid #333; border-radius: 12px; transform: translateX(-50%);
}
.cake-body .layer {
  position: absolute; left: 50%; width: 220px; height: 36px; background: #ffb5bd; border: 3px solid #333;
  border-radius: 10px; transform: translateX(-50%); box-shadow: inset 0 -6px 0 rgba(255,120,130,.35);
}
.cake-body .top { top: 40px; } .cake-body .middle { top: 80px; } .cake-body .bottom { top: 120px; }
.icing {
  position: absolute; top: 20px; left: 50%; width: 200px; height: 26px; background: #fff8e4;
  border: 3px solid #333; border-radius: 12px; transform: translateX(-50%); box-shadow: 0 4px 0 rgba(0,0,0,.05);
}
.candle {
  position: absolute; top: -6px; left: 50%; width: 10px; height: 40px; background: #ffd46a;
  border: 3px solid #333; border-radius: 6px; transform: translateX(-50%);
}
.flame {
  position: absolute; top: -16px; left: 50%; width: 16px; height: 24px;
  background: radial-gradient(circle at 50% 40%, #ffd46a, #ff7a18 70%);
  border: 3px solid #333; border-radius: 12px 12px 16px 16px; transform: translateX(-50%);
  animation: flicker .8s infinite ease-in-out;
}
@keyframes flicker {
  0%,100% { transform: translateX(-50%) scale(1); filter: drop-shadow(0 0 2px #ff7a18); }
  50% { transform: translateX(-50%) scale(1.1); filter: drop-shadow(0 0 6px #ff7a18); }
}

/* Slices for cut animation */
.slice { position: absolute; top: 40px; width: 110px; height: 116px; border-radius: 10px; pointer-events: none; }
.slice-left { left: 50%; transform: translate(-110px, 0); }
.slice-right { left: 50%; transform: translate(0, 0); }

.cut-btn, .fallback-btn {
  appearance: none; border: 3px solid #333; border-radius: 999px; padding: 10px 18px;
  background: #ff7882; color: #fff; font: 600 16px/1 "Sriracha", cursive; cursor: pointer;
  box-shadow: 0 6px 16px rgba(255,120,130,.35);
}
.cut-btn:active, .fallback-btn:active { transform: scale(.96); }

/* Cut animation */
.cake.cut .slice-left { animation: sliceLeft 900ms ease forwards; }
.cake.cut .slice-right { animation: sliceRight 900ms ease forwards; }
@keyframes sliceLeft { to { transform: translate(-180px, -10px) rotate(-8deg); } }
@keyframes sliceRight { to { transform: translate(70px, 15px) rotate(8deg); } }

/* Confetti */
#confetti { position: absolute; inset: 0; pointer-events: none; }
.confetti-bit { position: absolute; width: 8px; height: 14px; border-radius: 2px; opacity: 0; animation: confettiFall 1200ms ease-out forwards; }
@keyframes confettiFall {
  0% { opacity: 1; transform: translateY(-20vh) rotate(0deg); }
  100% { opacity: 1; transform: translateY(60vh) rotate(420deg); }
}

/* Hide your main content until reveal */
#wrapper { transition: opacity .4s ease; }
.hidden-initial { opacity: 0 !important; pointer-events: none !important; }
